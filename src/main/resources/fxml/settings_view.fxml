<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml" fx:controller="com.smartpos.ui.SettingsViewController" spacing="20" style="-fx-padding: 20;">
    
    <Label text="System Settings" styleClass="label-header"/>

    <TabPane styleClass="glass-pane" VBox.vgrow="ALWAYS" tabClosingPolicy="UNAVAILABLE">
        <tabs>
            <!-- Store Settings Tab -->
            <Tab text="Do'kon Sozlamalari">
                <VBox spacing="20" style="-fx-padding: 30;">
                    <Label text="Do'kon Ma'lumotlari" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <GridPane hgap="20" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints minWidth="150" prefWidth="150"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>
                        
                        <Label text="Do'kon nomi:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="storeNameField" promptText="SmartPOS Store" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        
                        <Label text="Telefon raqami:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="storePhoneField" promptText="+998 90 123 45 67" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        
                        <Label text="Manzil:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextArea fx:id="storeAddressField" prefHeight="80" promptText="Toshkent sh., ..." GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        
                        <Label text="Chek osti yozuvi:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="receiptFooterField" promptText="Xaridingiz uchun rahmat!" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                    </GridPane>

                    <Separator opacity="0.1"/>
                    
                    <HBox alignment="CENTER_RIGHT">
                        <Button text="Sozlamalarni saqlash âœ…" onAction="#handleSaveSettings" styleClass="button-primary"/>
                    </HBox>
                </VBox>
            </Tab>

            <!-- Cloud Sync Tab -->
            <Tab text="Cloud Synchronization">
                <VBox spacing="20" style="-fx-padding: 30;">
                    <Label text="Cloud Sync Settings" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <GridPane hgap="15" vgap="15">
                        <Label text="Server URL:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="serverUrlField" text="https://cloud.smartpos.com/api/v1" prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        
                        <Label text="Sync Interval (min):" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <Spinner fx:id="syncIntervalSpinner" prefWidth="100" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    </GridPane>

                    <Separator/>
                    
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Button text="Sync Now" onAction="#handleSyncNow" styleClass="button-primary"/>
                        <Label fx:id="syncStatusLabel" text="Last synced: Never" style="-fx-text-fill: #a0a0b0;"/>
                    </HBox>
                </VBox>
            </Tab>

            <!-- Telegram Integration Tab -->
            <Tab text="Telegram Integration">
                <VBox spacing="20" style="-fx-padding: 30;">
                    <Label text="Telegram Bot Sozlamalari" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints minWidth="120" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>
                        
                        <Label text="Bot Token:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <PasswordField fx:id="telegramTokenField" promptText="123456789:ABCdefGHIjklMNOpqrsTUVwxyz" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        
                        <Label text="Chat ID:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="telegramChatIdField" promptText="-1001234567890" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        
                        <Label text="Holati:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <Label fx:id="telegramStatusLabel" text="Kutilmoqda..." style="-fx-text-fill: #ffa000;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    </GridPane>

                    <Separator opacity="0.1"/>

                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Button text="Test Xabar Yuborish ðŸ“¨" onAction="#handleTestTelegram" styleClass="button-secondary"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="Saqlash âœ…" onAction="#handleSaveSettings" styleClass="button-primary"/>
                    </HBox>
                    
                    <Label text="Eslatma: 'Bot Father' orqali bot ochib, tokenni shu yerga kiritasiz." style="-fx-text-fill: #808080; -fx-font-style: italic;"/>
                </VBox>
            </Tab>

            <!-- General Settings Tab -->
            <Tab text="App Information">
                <VBox spacing="15" style="-fx-padding: 30;">
                    <Label text="SmartPOS - Ultra Extreme Edition" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                    <Label text="Version: 1.0.0-SNAPSHOT" style="-fx-text-fill: #a0a0b0;"/>
                    <Label text="Java Version: 17" style="-fx-text-fill: #a0a0b0;"/>
                    <Label text="Spring Boot: 3.2.0" style="-fx-text-fill: #a0a0b0;"/>
                    
                    <Region prefHeight="20"/>
                    <Separator/>
                    <Region prefHeight="10"/>
                    
                    <Label text="Database Status: Connected (H2)" style="-fx-text-fill: #00ff88;"/>
                    <Label text="UI Framework: JavaFX 21" style="-fx-text-fill: #a0a0b0;"/>
                </VBox>
            </Tab>
        </tabs>
    </TabPane>

</VBox>
